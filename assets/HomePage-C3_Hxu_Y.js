import{s as b}from"./blog-D5--w1bj.js";import{d as _,c as r,F as u,a as m,t as C,r as h,b as d,e as g,w as p,o as n,f as y,g as B,h as i,u as f,i as M,_ as k,j as v}from"./index-D5bbwRwp.js";import{B as E}from"./BlogAbstractItem-MLWaLevX.js";import"./date-BHARKRQU.js";const L={key:0,class:"card"},N={key:1,class:"load-more-container"},P=_({__name:"LoadMoreList",props:{noDataMsg:{type:String,required:!0},pageContent:{type:Object,required:!0},child:{type:Object,required:!0}},emits:["loadMore"],setup(o){return(e,t)=>{const s=g("el-icon"),c=g("el-button");return n(),r(u,null,[o.pageContent.totalElements===0?(n(),r("div",L,C(o.noDataMsg),1)):m("",!0),(n(!0),r(u,null,h(o.pageContent.content,l=>(n(),y(B(o.child),{item:l},null,8,["item"]))),256)),o.pageContent.totalElements>o.pageContent.content.length?(n(),r("div",N,[d(c,{onClick:t[0]||(t[0]=l=>e.$emit("loadMore")),color:"var(--theme-background-color)",size:"large",round:""},{default:p(()=>[d(s,{color:"white"},{default:p(()=>[d(f(M))]),_:1}),t[1]||(t[1]=i("span",{class:"load-more-text"},"加载更多",-1))]),_:1})])):m("",!0)],64)}}}),w=k(P,[["__scopeId","data-v-1c54639a"]]),j=_({__name:"HomePage",setup(o){let e=v({totalPages:0,totalElements:0,pageSize:0,pageNumber:0,content:[]}),t=v(0);const s=l=>{b(l-1,10).then(a=>{e.value.totalElements=a.data.data.totalElements,e.value.totalPages=a.data.data.totalPages,e.value.pageNumber=a.data.data.pageNumber+1,e.value.pageSize=a.data.data.pageSize,e.value.content.push(...a.data.data.content)})};s(1);const c=()=>{e.value.totalPages>t.value&&(t.value++,s(t.value))};return(l,a)=>(n(),r(u,null,[a[0]||(a[0]=i("div",{class:"card"},[i("h1",null,"YKKZ000的博客")],-1)),d(w,{"no-data-msg":"No blog","page-content":f(e),child:E,onLoadMore:c},null,8,["page-content"])],64))}});export{j as default};
